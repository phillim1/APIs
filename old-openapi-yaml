{
  "openapi": "3.0.1",
  "info": {
    "title": "Loan Document Generation",
    "version": "1.0.3",
    "description": "This API enables the transfer of financial institution and loan data payloads to a service that returns a package containing documents and eSign data for an unsecured consumer loan.",
    "x-finastra-category": "Lending",
    "x-finastra-subcategory": "Back Office",
    "x-finastra-short-description": "Enables generation of unsecured consumer loan documents.",
    "x-finastra-tags": [
      "Total Lending",
      "Fusion LaserPro",
      "North America"
    ],
    "x-finastra-channel-type": "B2E",
    "x-finastra-maturity-level": "BETA",
    "x-finastra-audience": "RESTRICTED",
    "x-finastra-implementability": "RESTRICTED",
    "x-finastra-icon": "Icons_11o.svg",
    "x-finastra-pricing": "GOLD"
  },
  "security": [
    {
      "Oauth2": []
    }
  ],
  "paths": {
    "/consumer-unsecured": {
      "post": {
        "description": "This call is used to send a payload in order to recieve an unsecured consumer loan document package appropriate to the data submitted.",
        "summary": "Retrieve unsecured consumer loan documentation",
        "operationId": "retreieveUnsecuredLoanDocs",
        "tags": [
          "Alapi"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/alapiPayloadRequestModel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized to execute operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden to execute operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorModel"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
			"Oauth2": {
				"type": "oauth2",
				"description": "Oauth 2.0 authentication",
				"flows": {
					"authorizationCode": {
						"authorizationUrl": "https://any.local.keycloak:8443/login/v1/sandbox/oidc/auth",
						"tokenUrl": "https://any.local.keycloak:8443/login/v1/sandbox/oidc/token",
						"scopes": {}
					}
				}
			}
		},
    "schemas": {
      "PhoneNumberModel": {
        "description": "Defines the phone numbers for this loan documentation.",
        "title": "Phone Number",
        "type": "string",
        "maxLength": 25
      },
      "ErrorModel": {
        "title": "Error",
        "type": "object",
        "description": "This general error structure is used throughout the common service APIs that comply with RFC7807. Note that unrecognized parameters must be ignored.",
        "required": [
          "title"
        ],
        "properties": {
          "type": {
            "type": "string",
            "maxLength": 256,
            "description": "A URI reference [RFC3986] that identifies the problem type",
            "example": "https://api.finastra.com/validation-error"
          },
          "title": {
            "type": "string",
            "maxLength": 256,
            "description": "A short human-readable summary of the problem type",
            "example": "The request is invalid"
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "description": "The HTTP status code generated by the origin server for this occurrence of the problem",
            "example": 400
          },
          "detail": {
            "type": "string",
            "maxLength": 256,
            "description": "A human-readable explanation specific to this occurrence of the problem",
            "example": "The counterparty does not exist"
          }
        }
      },
      "MainOfficeModel": {
        "description": "Defines the main office for this institution.",
        "title": "Main Office",
        "type": "object",
        "properties": {
          "name": {
            "description": "Enter the name for this institution.  The name entered here will appear on windows during processing and on documents.",
            "type": "string",
            "readOnly": true,
            "example": "Demo First Financial",
            "maxLength": 256
          },
          "description": {
            "description": "Enter the descriptive name of your institution, if applicable.  You may wish to use this field if the trade name of your institution differs from the full legal name.  This could also be your bank slogan.  It will appear in the heading of documents following the institution name.",
            "type": "string",
            "readOnly": true,
            "example": "Demo First Financial - Building Your Finanical Future",
            "maxLength": 256
          },
          "uin": {
            "description": "The institution's unique identifier",
            "type": "string",
            "readOnly": true,
            "example": "65123100",
            "maxLength": 256
          },
          "institutionType": {
            "description": "Select the institution type from the drop-down list.  Please note that LaserPro is primarily designed for federally insured U.S. depository institutions.  As such, LaserPro may lack functionality (such as disclosure language or documents) required of state-licensed financial institutions that are not federally insured such as finance companies or licensed second mortgage lenders.",
            "enum": [
              "None",
              "Bank",
              "SavingsAndLoan",
              "CreditUnion",
              "IndustrialLoanCompany",
              "SavingsBank",
              "FinanceCompany",
              "LicensedSecondMortgageLender"
            ],
            "type": "string",
            "example": "Bank"
          }
        },
        "additionalProperties": false
      },
      "RegulatoryAgencyModel": {
        "description": "Describes the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution.",
        "type": "object",
        "title": "Federal Agency",
        "properties": {
          "nameLine1": {
            "description": "Enter the name of the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution.  Values include:\n- Bureau of Consumer Finanical Protection\n- Office of the Comptroller of the Currency\n- Federal Reserve Consumer Help Center\n- FDIC Consumer Response Center\n- National Credit Union Administration\n- Assistant General Counsel for Aviation Enforcement and Proceedings\n- Office of Proceedings, Surface Transportation Board\n- Nearest Packers and Stockyards Administration area supervisor\n- Associate Deputy Administrator for Capital Access\n- Securities and Exchange Commission\n- Farm Credit Administration\n- The FTC Regional Office for region in which the creditor operates\n- Federal Trade Commission",
            "type": "string",
            "maxLength": 256,
            "example": ""
          },
          "nameLine2": {
            "description": "This field is available if a second field is needed for the Agency Name.  Values include:\n- Customer Assistance Group if nameLine1 = Office of the Comptroller fo the Currency\n- Office of Consumer Protection if nameLine1 = National Credit Union Administration\n- Department of Transportation if nameLine1 = Assistant General Counsel for Aviation Enforcement and Proceedings\n- Department of Transportation if nameLine1 = Office of Proceedings, Surface Transportation Board\n- United States Small Business Administration if nameLine1 = Associate Deputy Administrator for Capital Access\n- Equal Credit Opportunity if nameLine1 = Federal Trade Commission",
            "type": "string",
            "maxLength": 256,
            "example": ""
          },
          "addressLine1": {
            "description": "Enter the address of the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution.",
            "type": "string",
            "example": "1301  McKinney Avenue",
            "maxLength": 256
          },
          "addressLine2": {
            "description": "If a second field is needed for the Agency Address, enter any additional address for the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution here.",
            "type": "string",
            "example": "Suite 3710",
            "maxLength": 256
          },
          "city": {
            "description": "Enter the name of the city in which the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution is located.",
            "type": "string",
            "example": "Houston",
            "maxLength": 256
          },
          "state": {
            "description": "Defines the list of support US states, current/former US territories and protectorates, and Canadian Provinces and Territories.  Values include:\n- AL = Alabama\n- AK = Alaska\n- AB = Alberta\n- AZ = Arizona\n- AR = Arkansas\n- BC = British Columbia\n- CA = California\n- CO = Colorado\n- CT = Connecticut\n- DE = Delaware\n- DC = District of Columbia\n- FL = Florida\n- GA = Georgia\n- GU = Guam\n- HI = Hawaii\n- ID = Idaho\n- IL = Illinois\n- IN = Indiana\n- IA = Iowa\n- KS = Kansas\n- KY = Kentucky\n- LA = Louisiana\n- ME = Maine\n- MB = Manitoba\n- MH = Marshall Islands\n- MD = Maryland\n- MA = Massachusetts\n- MI = Michigan\n- MN = Minnesota\n- MS = Mississippi\n- MO = Missouri\n- MT = Montana\n- NE = Nebraska\n- NV = Nevada\n- NB = New Brunswick\n- NL = Newfoundland and Labrador\n- NH = New Hampshire\n- NJ = New Jersey\n- NM = New Mexico\n- NY = New York\n- NC = North Carolina\n- ND = North Dakota\n- MP = Northern Mariana Islands\n- NS = Nova Scotia\n- OH = Ohio\n- OK = Oklahoma\n- ON = Ontario\n- OR = Oregon\n- PA = Pennsylvania\n- PE = Prince Edward Island\n- PR = Puerto Rico\n- QC = Quebec\n- RI = Rhode Island\n- SK = Saskatchewan\n- SC = South Carolina\n- SD = South Dakota\n- TN = Tennessee\n- TX = Texas\n- UT = Utah\n- VT = Vermont\n- VA = Virginia\n- WA = Washington\n- WV = West Virginia\n- WI = Wisconsin\n- WY = Wyoming",
            "enum": [
              "AL",
              "AK",
              "AB",
              "AZ",
              "AR",
              "BC",
              "CA",
              "CO",
              "CT",
              "DE",
              "DC",
              "FL",
              "GA",
              "GU",
              "HI",
              "ID",
              "IL",
              "IN",
              "IA",
              "KS",
              "KY",
              "LA",
              "ME",
              "MB",
              "MH",
              "MD",
              "MA",
              "MI",
              "MN",
              "MS",
              "MO",
              "MT",
              "NE",
              "NV",
              "NB",
              "NL",
              "NH",
              "NJ",
              "NM",
              "NY",
              "NC",
              "ND",
              "MP",
              "NS",
              "OH",
              "OK",
              "ON",
              "OR",
              "PA",
              "PE",
              "PR",
              "QC",
              "RI",
              "SK",
              "SC",
              "SD",
              "TN",
              "TX",
              "UT",
              "VT",
              "VA",
              "WA",
              "WV",
              "WI",
              "WY"
            ],
            "type": "string",
            "example": "CA"
          },
          "zipCode": {
            "description": "Enter the zip code for the address of the Federal Agency which administers the Federal Equal Credit Opportunity Act for your institution.",
            "type": "string",
            "example": "77010",
            "maxLength": 50
          },
          "tollFreePhoneNumber": {
            "$ref": "#/components/schemas/PhoneNumberModel"
          },
          "teletypeWriterNumber": {
            "$ref": "#/components/schemas/PhoneNumberModel"
          },
          "faxNumber": {
            "$ref": "#/components/schemas/PhoneNumberModel"
          },
          "mainOffice": {
            "$ref": "#/components/schemas/MainOfficeModel"
          }
        },
        "additionalProperties": false
      },
      "CreditBureauModel": {
        "description": "Defines the Credit Bureau.",
        "type": "object",
        "title": "Credit Bureau definition",
        "properties": {
          "name": {
            "description": "Defines the type of institution.  Values include: \n- Experian\n- Equifax\n- ChexSystems\n- TransUnion\n- Kroll Factual Data\n- CoreLogic\n- CBC",
            "type": "string",
            "example": "Experian",
            "maxLength": 256
          },
          "state": {
            "description": "Defines the list of support US states, current/former US territories and protectorates, and Canadian Provinces and Territories.  Values include: \n- AL = Alabama\n- AK = Alaska\n- AB = Alberta\n- AZ = Arizona\n- AR = Arkansas\n- BC = British Columbia\n- CA = California\n- CO = Colorado\n- CT = Connecticut\n- DE = Delaware\n- DC = District of Columbia\n- FL = Florida\n- GA = Georgia\n- GU = Guam\n- HI = Hawaii\n- ID = Idaho\n- IL = Illinois\n- IN = Indiana\n- IA = Iowa\n- KS = Kansas\n- KY = Kentucky\n- LA = Louisiana\n- ME = Maine\n- MB = Manitoba\n- MH = Marshall Islands\n- MD = Maryland\n- MA = Massachusetts\n- MI = Michigan\n- MN = Minnesota\n- MS = Mississippi\n- MO = Missouri\n- MT = Montana\n- NE = Nebraska\n- NV = Nevada\n- NB = New Brunswick\n- NL = Newfoundland and Labrador\n- NH = New Hampshire\n- NJ = New Jersey\n- NM = New Mexico\n- NY = New York\n- NC = North Carolina\n- ND = North Dakota\n- MP = Northern Mariana Islands\n- NS = Nova Scotia\n- OH = Ohio\n- OK = Oklahoma\n- ON = Ontario\n- OR = Oregon\n- PA = Pennsylvania\n- PE = Prince Edward Island\n- PR = Puerto Rico\n- QC = Quebec\n- RI = Rhode Island\n- SK = Saskatchewan\n- SC = South Carolina\n- SD = South Dakota\n- TN = Tennessee\n- TX = Texas\n- UT = Utah\n- VT = Vermont\n- VA = Virginia\n- WA = Washington\n- WV = West Virginia\n- WI = Wisconsin\n- WY = Wyoming",
            "enum": [
              "AL",
              "AK",
              "AB",
              "AZ",
              "AR",
              "BC",
              "CA",
              "CO",
              "CT",
              "DE",
              "DC",
              "FL",
              "GA",
              "GU",
              "HI",
              "ID",
              "IL",
              "IN",
              "IA",
              "KS",
              "KY",
              "LA",
              "ME",
              "MB",
              "MH",
              "MD",
              "MA",
              "MI",
              "MN",
              "MS",
              "MO",
              "MT",
              "NE",
              "NV",
              "NB",
              "NL",
              "NH",
              "NJ",
              "NM",
              "NY",
              "NC",
              "ND",
              "MP",
              "NS",
              "OH",
              "OK",
              "ON",
              "OR",
              "PA",
              "PE",
              "PR",
              "QC",
              "RI",
              "SK",
              "SC",
              "SD",
              "TN",
              "TX",
              "UT",
              "VT",
              "VA",
              "WA",
              "WV",
              "WI",
              "WY"
            ],
            "type": "string",
            "example": "CA"
          },
          "address": {
            "description": "The address the credit bureau is located at.",
            "type": "string",
            "example": "123 Main Street",
            "maxLength": 256
          },
          "city": {
            "description": "The city the credit bureau is located in.",
            "type": "string",
            "example": "Big City",
            "maxLength": 256
          },
          "zip": {
            "description": "The zip code the credit bureau is within.",
            "type": "string",
            "example": "99999",
            "maxLength": 50
          },
          "voicePhoneNumber": {
            "$ref": "#/components/schemas/PhoneNumberModel"
          },
          "tollFreePhoneNumber": {
            "$ref": "#/components/schemas/PhoneNumberModel"
          },
          "minimumCreditScore": {
            "description": "The minimum possible value of a credit score issued by the credit bureau",
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "example": 300
          },
          "maximumCreditScore": {
            "description": "The maximum possible value of a credit scored issued by the credit bureau",
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "example": 850
          },
          "mainOffice": {
            "$ref": "#/components/schemas/MainOfficeModel"
          }
        },
        "additionalProperties": false
      },
      "InstitutionMessageModel": {
        "description": "Defines the financial institution.",
        "title": "Financial institution",
        "type": "object",
        "properties": {
          "name": {
            "description": "The name of this financial institution.",
            "type": "string",
            "example": "Demo First Finanical",
            "maxLength": 256
          },
          "description": {
            "description": "Enter the descriptive name of your institution, if applicable.  You may wish to use this field if the trade name of your institution differs from the full legal name.  This could also be your bank slogan.  It will appear in the heading of documents following the institution name.",
            "type": "string",
            "example": "Demo First Financial - Building Your Finanical Future",
            "maxLength": 256
          },
          "addressLine1": {
            "description": "The first line of this institution's address.",
            "type": "string",
            "example": "123 Main Street",
            "maxLength": 256
          },
          "addressLine2": {
            "description": "The second line of this institution's address.",
            "type": "string",
            "example": "Suite 100",
            "maxLength": 256
          },
          "city": {
            "description": "The city in which this institution is located.",
            "type": "string",
            "example": "Big City",
            "maxLength": 256
          },
          "county": {
            "description": "The county in which this institution is located.",
            "type": "string",
            "example": "Washington",
            "maxLength": 256
          },
          "zip": {
            "description": "The zip code with which this institution is assciated.",
            "type": "string",
            "example": "99999",
            "maxLength": 50
          },
          "state": {
            "description": "Defines the list of support US states, current/former US territories and protectorates, and Canadian Provinces and Territories.  Values include: \n- AL = Alabama\n- AK = Alaska\n- AB = Alberta\n- AZ = Arizona\n- AR = Arkansas\n- BC = British Columbia\n- CA = California\n- CO = Colorado\n- CT = Connecticut\n- DE = Delaware\n- DC = District of Columbia\n- FL = Florida\n- GA = Georgia\n- GU = Guam\n- HI = Hawaii\n- ID = Idaho\n- IL = Illinois\n- IN = Indiana\n- IA = Iowa\n- KS = Kansas\n- KY = Kentucky\n- LA = Louisiana\n- ME = Maine\n- MB = Manitoba\n- MH = Marshall Islands\n- MD = Maryland\n- MA = Massachusetts\n- MI = Michigan\n- MN = Minnesota\n- MS = Mississippi\n- MO = Missouri\n- MT = Montana\n- NE = Nebraska\n- NV = Nevada\n- NB = New Brunswick\n- NL = Newfoundland and Labrador\n- NH = New Hampshire\n- NJ = New Jersey\n- NM = New Mexico\n- NY = New York\n- NC = North Carolina\n- ND = North Dakota\n- MP = Northern Mariana Islands\n- NS = Nova Scotia\n- OH = Ohio\n- OK = Oklahoma\n- ON = Ontario\n- OR = Oregon\n- PA = Pennsylvania\n- PE = Prince Edward Island\n- PR = Puerto Rico\n- QC = Quebec\n- RI = Rhode Island\n- SK = Saskatchewan\n- SC = South Carolina\n- SD = South Dakota\n- TN = Tennessee\n- TX = Texas\n- UT = Utah\n- VT = Vermont\n- VA = Virginia\n- WA = Washington\n- WV = West Virginia\n- WI = Wisconsin\n- WY = Wyoming",
            "enum": [
              "AL",
              "AK",
              "AB",
              "AZ",
              "AR",
              "BC",
              "CA",
              "CO",
              "CT",
              "DE",
              "DC",
              "FL",
              "GA",
              "GU",
              "HI",
              "ID",
              "IL",
              "IN",
              "IA",
              "KS",
              "KY",
              "LA",
              "ME",
              "MB",
              "MH",
              "MD",
              "MA",
              "MI",
              "MN",
              "MS",
              "MO",
              "MT",
              "NE",
              "NV",
              "NB",
              "NL",
              "NH",
              "NJ",
              "NM",
              "NY",
              "NC",
              "ND",
              "MP",
              "NS",
              "OH",
              "OK",
              "ON",
              "OR",
              "PA",
              "PE",
              "PR",
              "QC",
              "RI",
              "SK",
              "SC",
              "SD",
              "TN",
              "TX",
              "UT",
              "VT",
              "VA",
              "WA",
              "WV",
              "WI",
              "WY"
            ],
            "type": "string",
            "example": "CA"
          },
          "institutionType": {
            "description": "Select the institution type from the drop-down list.  Please note that LaserPro is primarily designed for federally insured U.S. depository institutions.  As such, LaserPro may lack functionality (such as disclosure language or documents) required of state-licensed financial institutions that are not federally insured such as finance companies or licensed second mortgage lenders.",
            "enum": [
              "None",
              "Bank",
              "SavingsAndLoan",
              "CreditUnion",
              "IndustrialLoanCompany",
              "SavingsBank",
              "FinanceCompany",
              "LicensedSecondMortgageLender"
            ],
            "type": "string",
            "example": "Bank"
          },
          "regulatoryAgency": {
            "$ref": "#/components/schemas/RegulatoryAgencyModel"
          },
          "creditBureaus": {
            "type": "array",
            "description": "Lists the Credit Bureau's to be included.",
            "title": "Credit Bureau's list",
            "items": {
              "$ref": "#/components/schemas/CreditBureauModel"
            }
          },
          "lenderTitleDescription": {
            "description": "For transactions with collateral located in Hawaii, the Lender's Title is required to appear on documents that are recorded in the Office of the Land Court system.  In order to avoid the difficulty of distinguishing between which documents will be recorded in the Land Court system and which will be recorded in the Regular System, you may wish to fill in this field with the appropriate title for your institution, such as \"a Corporation\", or \"a National Bank\", or \"a Savings and Loan\", etc. which will be used in all appropriate transactions.  The title will print after the institution name (with a preceding comma) in the \"Parties To Document\" section of documents with recordation headers, and after the institution name in the opening paragraph of documents where the parties to the transaction are indicated. \nFor Fannie Mae / Freddie Mac transactions, the Lender's Title is required to appear in the definition of \"Lender\" in either the Deed of Trust or Mortgage for certain states.  You should fill in the appropriate title for your institution.",
            "type": "string",
            "example": "a National Bank",
            "maxLength": 256
          },
          "defaultLenderSigner": {
            "$ref": "#/components/schemas/LenderSignerInformation"
          },
          "mAPRPhoneNumber": {
            "description": "Phone number to call to get information regarding Military APR",
            "type": "string",
              "maxLength":  50
          }
        },
        "additionalProperties": false
      },
      "LenderSignerInformation": {
        "description": "Contact information for the individual from the financial institution processing the loan",
        "title": "Lender Signer",
        "type": "object",
        "properties": {
          "primaryContactEmailAddress": {
          "description": "Email address for the individual",
          "type": "string",
          "maxLength": 256
          }
        }
      },
      "alapiPayloadRequestModel": {
        "title": "ALAPI Payload",
        "description": "This model is used to insert the Automated Lending API (ALAPI) payload.",
        "type": "object",
        "properties": {
          "institution": {
            "$ref": "#/components/schemas/InstitutionMessageModel"
          },
          "alapiRequest": {
            "description": "This data field is used to insert the Automated Lending API (ALAPI) payload.",
            "type": "string",
            "example": "",
            "maxLength": 3500000
          }
        },
        "additionalProperties": false
      }
    }
  }
}
